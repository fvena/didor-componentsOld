.az-checkbox {
  $rootClass: &;

  display: flex;
  align-items: center;
  overflow: hidden;
  user-select: none;
  transition: color 250ms cubic-bezier(0.4, 0, 0.23, 1);

  &__input {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    width: size(0.8);
    height: size(0.8);
    margin-right: halve();
    cursor: pointer;
    background: transparent;
    border: 2px solid color(gray5);
    border-radius: 4px;
    transition: all 250ms cubic-bezier(0.4, 0, 0.23, 1);
  }

  &__label {
    line-height: simple();
    color: color(content);
  }

  &--checked {
    [class$='input'] {
      border: size(0.4) solid color(brand);
      animation: shrink-bounce 200ms cubic-bezier(0.4, 0, 0.23, 1);
    }
    [class$='input']::before {
      position: absolute;
      top: 0;
      left: -0.45rem;
      content: '';
      border-right: 3px solid #ffffff;
      border-bottom: 3px solid #ffffff;
      transform: rotate(45deg);
      transform-origin: 0% 100%;
      animation: checkbox-check 125ms 250ms cubic-bezier(0.4, 0, 0.23, 1) forwards;
    }
  }

  &--disabled {
    [class$='label'] {
      color: color(gray4);
    }
  }

  @include hover {
    &__input {
      background: rgba(255, 255, 255, 0.1);
    }
  }
}

@keyframes shrink-bounce {
  0% {
    transform: scale(1);
  }
  33% {
    transform: scale(0.85);
  }
  100% {
    transform: scale(1);
  }
}

@keyframes checkbox-check {
  0% {
    width: 0;
    height: 0;
    transform: translate3d(0, -0.75, 0) rotate(45deg);
  }
  33% {
    width: 0.45rem;
    height: 0.75rem;
    transform: translate3d(0, -0.75rem, 0) rotate(45deg);
  }
  100% {
    width: 0.45rem;
    height: 0.75rem;
    transform: translate3d(0, -0.75rem, 0) rotate(45deg);
  }
}
